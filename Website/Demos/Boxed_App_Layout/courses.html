<!DOCTYPE html>
<html lang="en"
      dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible"
              content="IE=edge">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Courses</title>

        <!-- Prevent the demo from appearing in search engines -->
        <meta name="robots"
              content="noindex">

        <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CRoboto:400,500%7CExo+2:600&display=swap"
              rel="stylesheet">

        <!-- Preloader -->
        <link type="text/css"
              href="../../public/vendor/spinkit.css"
              rel="stylesheet">

        <!-- Perfect Scrollbar -->
        <link type="text/css"
              href="../../public/vendor/perfect-scrollbar.css"
              rel="stylesheet">

        <!-- Material Design Icons -->
        <link type="text/css"
              href="../../public/css/material-icons.css"
              rel="stylesheet">

        <!-- Font Awesome Icons -->
        <link type="text/css"
              href="../../public/css/fontawesome.css"
              rel="stylesheet">

        <!-- Preloader -->
        <link type="text/css"
              href="../../public/css/preloader.css"
              rel="stylesheet">

        <!-- App CSS -->
        <link type="text/css"
              href="../../public/css/app.css"
              rel="stylesheet">

    </head>

    <body class="layout">

        <div class="preloader">
            <div class="sk-chase">
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
            </div>

        </div>

        <!-- Drawer Layout -->

        <div class="mdk-drawer-layout js-mdk-drawer-layout" data-push data-responsive-width="992px">
            <div class="mdk-drawer-layout__content page-content">

                <!-- Header -->
                <div id="HeaderDiv"></div>
                <!-- // END Header -->

                <!-- BEFORE Page Content -->

                <!-- // END BEFORE Page Content -->

                <!-- Page Content -->

                <div class="page-section">
                    <div class="container-fluid page__container" id="PageDiv">

                        <div class="d-flex flex-column flex-sm-row align-items-sm-center mb-24pt"
                             style="white-space: nowrap;">
                            <small class="flex text-muted text-headings text-uppercase mr-3 mb-2 mb-sm-0">Displaying 4 out of 10 courses</small>
                            <div class="w-auto ml-sm-auto table d-flex align-items-center mb-2 mb-sm-0">
                                <small class="text-muted text-headings text-uppercase mr-3 d-none d-sm-block">Sort by</small>

                                <a href="#"
                                   class="sort desc small text-headings text-uppercase">Newest</a>

                                <a href="#"
                                   class="sort small text-headings text-uppercase ml-2">Popularity</a>

                            </div>

                            <a href="#"
                               data-target="#library-drawer"
                               data-toggle="sidebar"
                               class="btn btn-sm btn-white ml-sm-16pt">
                                <i class="material-icons icon--left">tune</i> Filters
                            </a>

                        </div>

                        <!-- <div class="page-separator">
                            <div class="page-separator__text">Popular Courses</div>
                        </div>

                        <div class="row card-group-row">

                            <div class="col-md-6 col-lg-4 col-xl-3 card-group-row__col">

                                <div class="card card-sm card--elevated p-relative o-hidden overlay overlay--primary-dodger-blue js-overlay mdk-reveal js-mdk-reveal card-group-row__card"
                                     data-overlay-onload-show
                                     data-popover-onload-show
                                     data-force-reveal
                                     data-partial-height="44"
                                     data-toggle="popover"
                                     data-trigger="click">

                                    <a href="student-course.html"
                                       class="js-image"
                                       data-position="">
                                        <img src="../../public/images/paths/mailchimp_430x168.png"
                                             alt="course">
                                        <span class="overlay__content align-items-start justify-content-start">
                                            <span class="overlay__action card-body d-flex align-items-center">
                                                <i class="material-icons mr-4pt">play_circle_outline</i>
                                                <span class="card-title text-white">Preview</span>
                                            </span>
                                        </span>
                                    </a>

                                    <div class="mdk-reveal__content">
                                        <div class="card-body">
                                            <div class="d-flex">
                                                <div class="flex">
                                                    <a class="card-title"
                                                       href="student-course.html">Newsletter Design</a>
                                                    <small class="text-50 font-weight-bold mb-4pt">Elijah Murray</small>
                                                </div>
                                                <a href="student-course.html"
                                                   data-toggle="tooltip"
                                                   data-title="Remove Favorite"
                                                   data-placement="top"
                                                   data-boundary="window"
                                                   class="ml-4pt material-icons text-20 card-course__icon-favorite">favorite</a>
                                            </div>
                                            <div class="d-flex">
                                                <div class="rating flex">
                                                    <span class="rating__item"><span class="material-icons">star</span></span>
                                                    <span class="rating__item"><span class="material-icons">star</span></span>
                                                    <span class="rating__item"><span class="material-icons">star</span></span>
                                                    <span class="rating__item"><span class="material-icons">star</span></span>
                                                    <span class="rating__item"><span class="material-icons">star_border</span></span>
                                                </div>
                                                <small class="text-50">6 hours</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="popoverContainer d-none">
                                    <div class="media">
                                        <div class="media-left mr-12pt">
                                            <img src="../../public/images/paths/mailchimp_40x40@2x.png"
                                                 width="40"
                                                 height="40"
                                                 alt="Angular"
                                                 class="rounded">
                                        </div>
                                        <div class="media-body">
                                            <div class="card-title mb-0">Newsletter Design</div>
                                            <p class="lh-1 mb-0">
                                                <span class="text-50 small">with</span>
                                                <span class="text-50 small font-weight-bold">Elijah Murray</span>
                                            </p>
                                        </div>
                                    </div>

                                    <p class="my-16pt text-70">Learn the fundamentals of working with Angular and how to create basic applications.</p>

                                    <div class="mb-16pt">
                                        <div class="d-flex align-items-center">
                                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                            <p class="flex text-50 lh-1 mb-0"><small>Fundamentals of working with Angular</small></p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                            <p class="flex text-50 lh-1 mb-0"><small>Create complete Angular applications</small></p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                            <p class="flex text-50 lh-1 mb-0"><small>Working with the Angular CLI</small></p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                            <p class="flex text-50 lh-1 mb-0"><small>Understanding Dependency Injection</small></p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                            <p class="flex text-50 lh-1 mb-0"><small>Testing with Angular</small></p>
                                        </div>
                                    </div>

                                    <div class="row align-items-center">
                                        <div class="col-auto">
                                            <div class="d-flex align-items-center mb-4pt">
                                                <span class="material-icons icon-16pt text-50 mr-4pt">access_time</span>
                                                <p class="flex text-50 lh-1 mb-0"><small>6 hours</small></p>
                                            </div>
                                            <div class="d-flex align-items-center mb-4pt">
                                                <span class="material-icons icon-16pt text-50 mr-4pt">play_circle_outline</span>
                                                <p class="flex text-50 lh-1 mb-0"><small>12 lessons</small></p>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <span class="material-icons icon-16pt text-50 mr-4pt">assessment</span>
                                                <p class="flex text-50 lh-1 mb-0"><small>Beginner</small></p>
                                            </div>
                                        </div>
                                        <div class="col text-right">
                                            <a href="student-course.html"
                                               class="btn btn-primary">Watch trailer</a>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div> -->

                        <div class="mb-32pt">

                            <ul class="pagination justify-content-start pagination-xsm m-0">
                                <li class="page-item disabled">
                                    <a class="page-link"
                                       href="#"
                                       aria-label="Previous">
                                        <span aria-hidden="true"
                                              class="material-icons">chevron_left</span>
                                        <span>Prev</span>
                                    </a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link"
                                       href="#"
                                       aria-label="Page 1">
                                        <span>1</span>
                                    </a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link"
                                       href="#"
                                       aria-label="Page 2">
                                        <span>2</span>
                                    </a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link"
                                       href="#"
                                       aria-label="Next">
                                        <span>Next</span>
                                        <span aria-hidden="true"
                                              class="material-icons">chevron_right</span>
                                    </a>
                                </li>
                            </ul>

                        </div>

                        <!-- jQuery -->
                        <script src="../../public/vendor/jquery.min.js"></script>

                        <script>
                            let SelectPortals = "SelectPortals";
                            let hours = 0;
                            let mins = 0;
                            let secs = 0;
                            let CourseDuration;

                            $.ajax({
                                url: "../../api/PortalCourses.php",
                                data: {
                                    operation: SelectPortals
                                },
                                type: "post",
                                dataType: "json",
                                success: function (response) {
                                    //console.log(response);

                                    let processedPortals = {};

                                    let processedCourses = {};

                                    $.each(response, function (index, portal) {

                                        let portalname = portal.PortalName;
                                        //console.log(portalname);

                                        let portalID = portal.PortalID;

                                        let coursename = portal.CourseName;

                                        if (coursename != null){
                                            if (!processedPortals[portalID]){
                                                processedPortals[portalID] = true;

                                                let PortalNameDiv = `
                                                    <div class="page-separator">
                                                        <div class="page-separator__text">${portalname}</div>
                                                    </div>
                                                    <div class="row card-group-row" id="Portal-${portalID}">
                                                    </div>`;
                                                
                                                $("#PageDiv").append(PortalNameDiv);
                                            }

                                            let coursedescription = portal.CourseDescription;

                                            let trainername = portal.TrainerName;

                                            let courseID = portal.CourseID;

                                            // let coursemin = portal.VideoMin;
                                            // //console.log(coursemin);

                                            // mins = coursemin + mins;
                                            // //console.log(mins);

                                            // let coursesec = portal.VideoSec;
                                            // //console.log(coursesec);

                                            // secs = coursesec + secs;
                                            // //console.log(secs);

                                            // if (secs >= 60){
                                            //     while (secs >= 60){
                                            //         secs = secs - 60;
                                            //         mins = mins + 1;
                                            //     }
                                            // }

                                            // if (mins >= 60){
                                            //     while (mins >= 60){
                                            //         mins = mins - 60;
                                            //         hours = hours + 1;
                                            //     }
                                            // }

                                            // if (hours > 0){
                                            //     CourseDuration = hours + "h " + mins + "m " + secs + "s";
                                            //     $("#CourseDuration").html(CourseDuration);
                                            //     //console.log(CourseDuration);
                                            // }
                                            // else if (mins > 0){
                                            //     CourseDuration = mins + "m " + secs + "s";
                                            //     $("#CourseDuration").html(CourseDuration);
                                            //     //console.log(CourseDuration);
                                            // }
                                            // else {
                                            //     CourseDuration = secs + "s";
                                            //     $("#CourseDuration").html(CourseDuration);
                                            //     //console.log(CourseDuration);
                                            // }

                                            if (!processedCourses[courseID]){
                                                processedCourses[courseID] = true;

                                                let CoursesDiv = `
                                                <div class="col-md-6 col-lg-4 col-xl-3 card-group-row__col">

                                                    <div class="card card-sm card--elevated p-relative o-hidden overlay overlay--primary-dodger-blue js-overlay mdk-reveal js-mdk-reveal card-group-row__card"
                                                        data-overlay-onload-show
                                                        data-popover-onload-show
                                                        data-force-reveal
                                                        data-partial-height="44"
                                                        data-toggle="popover"
                                                        data-trigger="click">

                                                        <a href="Course.html?CourseID=${courseID}" class="js-image" data-position="">
                                                            <img src="../../public/images/paths/mailchimp_430x168.png" alt="course">
                                                            <span class="overlay__content align-items-start justify-content-start">
                                                                <span class="overlay__action card-body d-flex align-items-center">
                                                                    <i class="material-icons mr-4pt">play_circle_outline</i>
                                                                    <span class="card-title text-white">Preview</span>
                                                                </span>
                                                            </span>
                                                        </a>

                                                        <div class="mdk-reveal__content">
                                                            <div class="card-body">
                                                                <div class="d-flex">
                                                                    <div class="flex">
                                                                        <a class="card-title" href="Course.html?CourseID=${courseID}">${coursename}</a>
                                                                        <small class="text-50 font-weight-bold mb-4pt">${trainername}</small>
                                                                    </div>
                                                                    <a href="Course.html?CourseID=${courseID}"
                                                                    data-toggle="tooltip"
                                                                    data-title="Remove Favorite"
                                                                    data-placement="top"
                                                                    data-boundary="window"
                                                                    class="ml-4pt material-icons text-20 card-course__icon-favorite">favorite</a>
                                                                </div>
                                                                <div class="d-flex">
                                                                    <div class="rating flex">
                                                                        <span class="rating__item"><span class="material-icons">star</span></span>
                                                                        <span class="rating__item"><span class="material-icons">star</span></span>
                                                                        <span class="rating__item"><span class="material-icons">star</span></span>
                                                                        <span class="rating__item"><span class="material-icons">star</span></span>
                                                                        <span class="rating__item"><span class="material-icons">star_border</span></span>
                                                                    </div>
                                                                    <small class="text-50">CourseDuration</small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="popoverContainer d-none">
                                                        <div class="media">
                                                            <div class="media-left mr-12pt">
                                                                <img src="../../public/images/paths/mailchimp_40x40@2x.png"
                                                                    width="40"
                                                                    height="40"
                                                                    alt="Angular"
                                                                    class="rounded">
                                                            </div>
                                                            <div class="media-body">
                                                                <div class="card-title mb-0">${coursename}</div>
                                                                <p class="lh-1 mb-0">
                                                                    <span class="text-50 small">with</span>
                                                                    <span class="text-50 small font-weight-bold">${trainername}</span>
                                                                </p>
                                                            </div>
                                                        </div>

                                                        <p class="my-16pt text-70">coursedescription</p>

                                                        <div class="mb-16pt">
                                                            <div class="d-flex align-items-center">
                                                                <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                                                <p class="flex text-50 lh-1 mb-0"><small>Fundamentals of working with Angular</small></p>
                                                            </div>
                                                            <div class="d-flex align-items-center">
                                                                <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                                                <p class="flex text-50 lh-1 mb-0"><small>Create complete Angular applications</small></p>
                                                            </div>
                                                            <div class="d-flex align-items-center">
                                                                <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                                                <p class="flex text-50 lh-1 mb-0"><small>Working with the Angular CLI</small></p>
                                                            </div>
                                                            <div class="d-flex align-items-center">
                                                                <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                                                <p class="flex text-50 lh-1 mb-0"><small>Understanding Dependency Injection</small></p>
                                                            </div>
                                                            <div class="d-flex align-items-center">
                                                                <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                                                                <p class="flex text-50 lh-1 mb-0"><small>Testing with Angular</small></p>
                                                            </div>
                                                        </div>

                                                        <div class="row align-items-center">
                                                            <div class="col-auto">
                                                                <div class="d-flex align-items-center mb-4pt">
                                                                    <span class="material-icons icon-16pt text-50 mr-4pt">access_time</span>
                                                                    <p class="flex text-50 lh-1 mb-0"><small>${CourseDuration}</small></p>
                                                                </div>
                                                                <div class="d-flex align-items-center mb-4pt">
                                                                    <span class="material-icons icon-16pt text-50 mr-4pt">play_circle_outline</span>
                                                                    <p class="flex text-50 lh-1 mb-0"><small>12 lessons</small></p>
                                                                </div>
                                                                <div class="d-flex align-items-center">
                                                                    <span class="material-icons icon-16pt text-50 mr-4pt">assessment</span>
                                                                    <p class="flex text-50 lh-1 mb-0"><small>Beginner</small></p>
                                                                </div>
                                                            </div>
                                                            <div class="col text-right">
                                                                <a href="Course.html?CourseID=${courseID}"
                                                                class="btn btn-primary">Watch Course</a>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>`;

                                                $(`#Portal-${portalID}`).append(CoursesDiv);
                                            }

                                        }

                                    });
                                
                                },
                                error: function (E) {
                                    alert(E.status + E.statusText)
                                }
                            });

                        </script>

                    </div>
                </div>

                <!-- // END Page Content -->

                <!-- Footer -->
                <div id="FooterDiv"></div>
                <!-- // END Footer -->

            </div>

            <!-- // END drawer-layout__content -->

            <!-- Drawer -->

            <!-- // END Drawer -->

        </div>

        <!-- // END Drawer Layout -->

        <!-- Bootstrap -->
        <script src="../../public/vendor/popper.min.js"></script>
        <script src="../../public/vendor/bootstrap.min.js"></script>

        <!-- Perfect Scrollbar -->
        <script src="../../public/vendor/perfect-scrollbar.min.js"></script>

        <!-- DOM Factory -->
        <script src="../../public/vendor/dom-factory.js"></script>

        <!-- MDK -->
        <script src="../../public/vendor/material-design-kit.js"></script>

        <!-- App JS -->
        <script src="../../public/js/app.js"></script>
        <script src="Header.js"></script>
        <script src="Footer.js"></script>

        <!-- Preloader -->
        <script src="../../public/js/preloader.js"></script>

    </body>

</html>