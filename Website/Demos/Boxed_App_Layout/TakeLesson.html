<!DOCTYPE html>
<html lang="en"
      dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible"
              content="IE=edge">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Lesson</title>

        <!-- Prevent the demo from appearing in search engines -->
        <meta name="robots"
              content="noindex">

        <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CRoboto:400,500%7CExo+2:600&display=swap"
              rel="stylesheet">

        <!-- Preloader -->
        <link type="text/css"
              href="../../public/vendor/spinkit.css"
              rel="stylesheet">

        <!-- Perfect Scrollbar -->
        <link type="text/css"
              href="../../public/vendor/perfect-scrollbar.css"
              rel="stylesheet">

        <!-- Material Design Icons -->
        <link type="text/css"
              href="../../public/css/material-icons.css"
              rel="stylesheet">

        <!-- Font Awesome Icons -->
        <link type="text/css"
              href="../../public/css/fontawesome.css"
              rel="stylesheet">

        <!-- Preloader -->
        <link type="text/css"
              href="../../public/css/preloader.css"
              rel="stylesheet">

        <!-- App CSS -->
        <link type="text/css"
              href="../../public/css/app.css"
              rel="stylesheet">

    </head>

    <body class="layout">

        <div class="preloader">
            <div class="sk-chase">
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
            </div>

            <!-- <div class="sk-bounce">
                <div class="sk-bounce-dot"></div>
                <div class="sk-bounce-dot"></div>
            </div> -->

            <!-- More spinner examples at https://github.com/tobiasahlin/SpinKit/blob/master/examples.html -->
        </div>

        <!-- Drawer Layout -->

        <div class="mdk-drawer-layout js-mdk-drawer-layout" data-push data-responsive-width="992px">

            <div class="mdk-drawer-layout__content page-content">

                <!-- Header -->
                <!-- // END Header -->

                <!-- BEFORE Page Content -->

                <!-- // END BEFORE Page Content -->

                <!-- Page Content -->

                <div class="bg-primary pb-lg-64pt py-32pt">
                    <div class="container-fluid page__container">

                        <nav class="course-nav">

                            <a data-toggle="tooltip" data-placement="bottom" data-title="Getting Started with Angular: Introduction"
                               href=""><span class="material-icons">check_circle</span></a>

                            <a data-toggle="tooltip" data-placement="bottom" data-title="Getting Started with Angular: Introduction to TypeScript"
                               href=""><span class="material-icons text-primary">account_circle</span></a>

                            <a data-toggle="tooltip" data-placement="bottom" data-title="Getting Started with Angular: Comparing Angular to AngularJS"
                               href=""><span class="material-icons">play_circle_outline</span></a>

                            <a data-toggle="tooltip" data-placement="bottom" data-title="Quiz: Getting Started with Angular"
                               href="student-take-quiz.html"><span class="material-icons">hourglass_empty</span></a>

                        </nav>

                        <div class="js-player bg-primary embed-responsive embed-responsive-16by9 mb-32pt">

                            <div class="player embed-responsive-item">

                                <div class="player__content">
                                    <div class="player__image"></div>
                                    <a href="" class="player__play bg-primary">
                                        <span class="material-icons">play_arrow</span>
                                    </a>
                                </div>

                                <div class="player__embed d-none" id="PartVideo">
                                </div>

                            </div>

                        </div>

                        <div class="d-flex flex-wrap align-items-end mb-16pt">

                            <h1 class="text-white flex m-0" id="PartName"></h1>
                            
                            <p class="h1 text-white-50 font-weight-light m-0" id="PartTime"></p>

                        </div>

                        <p class="hero__lead measure-hero-lead text-white-50 mb-24pt" id="PartDescription"></p>

                        <a href="#" class="btn btn-white" id="BackToCourse">Resume lesson</a>

                    </div>
                </div>

                <!-- jQuery -->
                <script src="../../public/vendor/jquery.min.js"></script>

                <script>
                    $(document).ready(function(){

                        let PartInfo = "PartInfo";
                        // let apiURL = "../../api/";
                        // let mins = 0;
                        // let secs = 0;
                        // let hours = 0;
                        // let CourseDuration;

                        // Function to get the value of a query parameter from the URL using jQuery
                        function getQueryParam(name) {
                            const urlParams = new URLSearchParams(window.location.search);
                            return urlParams.get(name);
                        }
                        // Get the TrainerID from the URL
                        let partID = getQueryParam("PartID");
                        //console.log(partID);

                        // Function to get the value of a query parameter from the URL using jQuery
                        function getQueryParam(name) {
                            const urlParams = new URLSearchParams(window.location.search);
                            return urlParams.get(name);
                        }
                        // Get the TrainerID from the URL
                        let courseID = getQueryParam("CourseID");
                        //console.log(courseID);

                        $("#BackToCourse").on("click", function () {
                            window.location.href = "TakeCourse.html?CourseID=" + courseID;
                        });

                        $.ajax({
                            url: "../../api/GetLessonInfo.php",
                            data: {
                                operation: PartInfo,
                                PartID: partID

                            },
                            type: "post",
                            dataType: "json",
                            success: function (response) {
                                //console.log(response);

                                let part = response[0];

                                let partname = part.PartName;
                                $("#PartName").html(partname);

                                let partdescription = part.PartDescription;
                                $("#PartDescription").html(partdescription);

                                let videomin = part.VideoMin;

                                let videosec = part.VideoSec;

                                let parttime = videomin + ":" + videosec;
                                $("#PartTime").html(parttime);

                                let partvideo = part.PartVideo;
                                $("#PartVideo").html(partvideo);

                            },
                            error: function (E) {
                                alert(E.status + E.statusText)
                            }
                        });

                    });
                </script>

                <!-- // END Page Content -->

                <!-- Footer -->
                <!-- <div id="FooterDiv"></div> -->
                <!-- // END Footer -->

            </div>

            <!-- // END drawer-layout__content -->

            <!-- Drawer -->
            <!-- // END Drawer -->

        </div>

        <!-- // END Drawer Layout -->

        <!-- Bootstrap -->
        <script src="../../public/vendor/popper.min.js"></script>
        <script src="../../public/vendor/bootstrap.min.js"></script>

        <!-- Perfect Scrollbar -->
        <script src="../../public/vendor/perfect-scrollbar.min.js"></script>

        <!-- DOM Factory -->
        <script src="../../public/vendor/dom-factory.js"></script>

        <!-- MDK -->
        <script src="../../public/vendor/material-design-kit.js"></script>

        <!-- App JS -->
        <script src="../../public/js/app.js"></script>
        <!-- <script src="Header.js"></script>
        <script src="Footer.js"></script> -->

        <!-- Preloader -->
        <script src="../../public/js/preloader.js"></script>

    </body>

</html>